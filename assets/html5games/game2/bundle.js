/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";const e=window.Phaser;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function n(){n=function(){return r};var e,r={},a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new M(n||[]);return o(i,"_invoke",{value:T(e,r,s)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=h;var p="suspendedStart",y="suspendedYield",g="executing",m="completed",v={};function b(){}function w(){}function k(){}var S={};d(S,c,(function(){return this}));var C=Object.getPrototypeOf,O=C&&C(C(B([])));O&&O!==a&&i.call(O,c)&&(S=O);var x=k.prototype=b.prototype=Object.create(S);function j(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,r){function n(a,o,s,c){var u=f(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==t(d)&&i.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):r.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,a){n(e,t,r,a)}))}return a=a?a.then(i,i):i()}})}function T(t,r,n){var a=p;return function(i,o){if(a===g)throw new Error("Generator is already running");if(a===m){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?m:y,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=m,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function B(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,o=function t(){for(;++a<r.length;)if(i.call(r,a))return t.value=r[a],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError(t(r)+" is not iterable")}return w.prototype=k,o(x,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=d(k,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,d(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},j(P.prototype),d(P.prototype,u,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,a,i){void 0===i&&(i=Promise);var o=new P(h(e,t,n,a),i);return r.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),d(x,l,"Generator"),d(x,c,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=B,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,c,"next",e)}function c(e){s(i,n,a,o,c,"throw",e)}o(void 0)}))}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}function d(e,r,n){return r=f(r),function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(r,n||[],f(e).constructor):r.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var y=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,t,[{key:"CardModule"}])).playerDeckData=e.cache.json.get("playerCardData.json"),n.aiDeckData=e.cache.json.get("aiCardData.json"),n.gameScene=e,n.currentPlayer="",n.audioManager=r,n.playerX=10,n.aiX=e.sys.game.config.width-10,n.playerX2=e.sys.game.config.width/2-300,n.aiX2=e.sys.game.config.width/2+300,n.attributeButtons=[],n.attributestatics=[],n.cardIndex=0,n.playerFeedbackArray=[],n.aiFeedbackArray=[],n.playerCard=null,n.aiCard=null,n.playerCards=[],n.aiCards=[],n}var i,o,s,l,h,f,y,g,m,v,b,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),i=t,o=[{key:"initializeDecks",value:(w=c(n().mark((function e(t){var r,i,o,s,c,u,l,d,h,f,p,y;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createButtonFeedBack(),this.playerCards=[],this.aiCards=[],e.prev=3,e.next=6,Promise.all([fetch("assets/json/playerCardData.json"),fetch("assets/json/aiCardData.json")]);case 6:return r=e.sent,i=a(r,2),o=i[0],s=i[1],e.next=12,Promise.all([o.json(),s.json()]);case 12:for(c=e.sent,u=a(c,2),l=u[0],d=u[1],this.playerDeckData=l,this.aiDeckData=d,h=0;h<t;h++)f={image:this.gameScene.add.image(this.playerX,500,"cardFront"),data:this.playerDeckData[h],type:"Player Card"},this.playerCards.push(f),this.audioManager.playPageFlip();for(p=0;p<t;p++)y={image:this.gameScene.add.image(this.aiX,500,"cardFront"),data:this.aiDeckData[p],type:"AI"},this.aiCards.push(y);this.drawNextCards(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.error("Error loading card data:",e.t0);case 26:case"end":return e.stop()}}),e,this,[[3,23]])}))),function(e){return w.apply(this,arguments)})},{key:"drawNextCards",value:function(){var e=this;if(this.audioManager.playShuffle(),this.playerCards.length>0&&this.aiCards.length>0){var t=this.playerCards[this.playerCards.length-1].data,r=this.aiCards[this.aiCards.length-1].data;this.playerCard=this.drawCard(this.gameScene,this.playerCards[0],t,this.playerX2),this.aiCard=this.drawCard(this.gameScene,this.aiCards[0],r,this.aiX2),this.playerCard.cardData=t,this.aiCard.cardData=r,this.playerCards.shift(),this.aiCards.shift(),this.gameScene.time.delayedCall(1200,(function(){"player"===e.currentPlayer?e.revealCard(e.playerCard):e.revealCard(e.aiCard)}))}else this.gameScene.showGameOverScreen()}},{key:"drawCard",value:function(e,t,r,n){if(t)return t.image.y-=32,this.audioManager.playPageFlip(),e.tweens.add({targets:t.image,x:n,scaleX:1.25,scaleY:1.25,duration:500,onComplete:function(){}}),t.cardData=r,t}},{key:"revealCard",value:(b=c(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.audioManager.playCut(),"cardBack"===t.image.texture.key?this.flipCard(t.image,"cardBack","cardFront"):(this.flipCard(t.image,"cardFront","cardBack"),setTimeout((function(){r.createAttributeButtons(t)}),500));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"createAttributeButtons",value:(v=c(n().mark((function e(t){var i,o,s,c,u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.cardData,o=r(Object.keys(i).entries()),e.prev=4,c=n().mark((function e(){var r,o,c,l,d,h,f,p,y,g,m;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a(s.value,2),o=r[0],c=r[1],l=i[c],d=t.image.x-8,h=430+40*o,0===o?(f=u.gameScene.add.text(d-80,h+10," ".concat(l),{fontFamily:"Arial, sans-serif",fontSize:"30px",color:"#800000",fontStyle:"bold"}),u.attributestatics.push(f)):1===o?(p=d,y=h-140,(g=u.gameScene.add.image(p,y,c)).setScale(1.3),g.setOrigin(.5,.5),g.setInteractive(),u.attributestatics.push(g)):((m=u.gameScene.add.text(d,h,"".concat(c,": ").concat(l),{fontFamily:"Arial, sans-serif",fontSize:"26px",color:"#F08080",fontStyle:"bold"})).setOrigin(.5,.5),m.on("pointerdown",(function(){"player"===u.currentPlayer&&(m.setFontSize(26),m.setColor("#229954"),m.setFontStyle("bold"),m.setDepth(3),u.audioManager.playSelect(),setTimeout((function(){u.handleCardSelection(l,o)}),500))})),"player"===u.currentPlayer&&m.setInteractive(),u.attributeButtons.push(m));case 5:case"end":return e.stop()}}),e)})),o.s();case 7:if((s=o.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:if("player"===this.currentPlayer){e.next=22;break}return e.next=22,this.waitForAttributeButtons().then((function(){u.gameScene.time.delayedCall(1200,(function(){u.autoSelectAttribute()}))}));case 22:case"end":return e.stop()}}),e,this,[[4,13,16,19]])}))),function(e){return v.apply(this,arguments)})},{key:"waitForAttributeButtons",value:(m=c(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.attributeButtons.length){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"autoSelectAttribute",value:(g=c(n().mark((function e(){var t,r,a,i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioManager.playSelect(),e.prev=1,!(this.attributeButtons.length>0)){e.next=15;break}if(t=Math.floor(Math.random()*this.attributeButtons.length),r=this.attributeButtons[t]){e.next=7;break}throw new Error("Selected text is undefined.");case 7:r.setFontSize(30),r.setColor("#229954"),r.setFontStyle("bold"),r.setDepth(2.2),a=t+2,setTimeout((function(){i.handleCardSelection(r,a)}),1200),e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return g.apply(this,arguments)})},{key:"handleCardSelection",value:(y=c(n().mark((function e(t,r){var a=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revealHiddenCard(r).then((function(){a.evaluateSelection(t,r)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"revealHiddenCard",value:(f=c(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"player"===this.currentPlayer?(this.revealCard(this.aiCard),this.toggleFeedback(t)):(this.revealCard(this.playerCard),this.toggleFeedback(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"toggleFeedback",value:function(e){var t=this;"player"===this.currentPlayer?(this.gameScene.time.delayedCall(500,(function(){t.aiFeedbackArray[e-2].setVisible(!0)})),setTimeout((function(){t.aiFeedbackArray[e-2].setVisible(!1),t.flipCard(t.aiCard.image,"cardBack","cardFront"),t.clearAtributesOnCard()}),1e3)):(this.gameScene.time.delayedCall(500,(function(){t.playerFeedbackArray[e-2].setVisible(!0)})),setTimeout((function(){t.playerFeedbackArray[e-2].setVisible(!1),t.flipCard(t.playerCard.image,"cardBack","cardFront"),t.clearAtributesOnCard()}),1e3))}},{key:"evaluateSelection",value:(h=c(n().mark((function e(t,r){var a,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disableAttributeButtons(),"player"===this.currentPlayer?(a=this.aiDeckData[this.cardIndex][Object.keys(this.aiDeckData[this.cardIndex])[r]],i=t>a?"player":"ai"):(a=this.playerDeckData[this.cardIndex][Object.keys(this.playerDeckData[this.cardIndex])[r]],i=t>a?"ai":"player"),this.winRoundSequence(i);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"winRoundSequence",value:function(e){var t=this;if("player"===e){this.aiCards.shift();var r=this.aiDeckData.shift();this.aiDeckData.push(r);var n={image:this.gameScene.add.image(this.playerX,500,"cardFront"),data:r,type:"Player Card"};this.playerCards.push(n)}else{this.playerCards.shift();var a=this.playerDeckData.shift();this.playerDeckData.push(a);var i={image:this.gameScene.add.image(this.aiX,500,"cardFront"),data:a,type:"AI Card"};this.aiCards.push(i)}setTimeout((function(){t.moveCardsToWinner(e)}),1e3)}},{key:"moveCardsToWinner",value:(l=c(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.playerCard.image.setTexture("cardFront"),this.aiCard.image.setTexture("cardFront"),"player"===t?this.gameScene.tweens.add({targets:[this.playerCard.image,this.aiCard.image],x:-100,scaleX:.5,scaleY:.5,duration:1e3,onComplete:function(){r.playerCard&&r.aiCard&&(r.playerCard.image.setDepth(-1),r.aiCard.image.setDepth(-1),r.gameScene.UpdateScores(t),r.currentPlayer=t,setTimeout((function(){r.drawNextCards()}),1200))}}):this.gameScene.tweens.add({targets:[this.playerCard.image,this.aiCard.image],x:this.aiX+200,scaleX:.5,scaleY:.5,duration:1e3,onComplete:function(){r.playerCard&&r.aiCard&&(r.playerCard.image.setDepth(-1),r.aiCard.image.setDepth(-1),r.gameScene.UpdateScores(t),r.currentPlayer=t,setTimeout((function(){r.drawNextCards()}),1200))}});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"disableAttributeButtons",value:(s=c(n().mark((function e(){var t,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r(this.attributeButtons);try{for(t.s();!(a=t.n()).done;)a.value.setInteractive(!1)}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"createButtonFeedBack",value:function(){for(var e=2267476,t=0;t<5;t+=1){var r=500+40*t,n=this.playerX2-150,a=this.gameScene.add.graphics();a.fillStyle(e),a.fillRect(n,r,300,30),a.alpha=.4,a.setVisible(!1),a.setDepth(1.5),this.playerFeedbackArray.push(a)}for(var i=0;i<5;i+=1){var o=500+40*i,s=this.aiX2-150,c=this.gameScene.add.graphics();c.fillStyle(e),c.fillRect(s,o,300,30),c.alpha=.4,c.setVisible(!1),c.setDepth(1.5),this.aiFeedbackArray.push(c)}}},{key:"clearAtributesOnCard",value:function(){var e,t=r(this.attributeButtons);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}var n,a=r(this.attributestatics);try{for(a.s();!(n=a.n()).done;)n.value.destroy()}catch(e){a.e(e)}finally{a.f()}this.attributestatics=[],this.attributeButtons=[]}},{key:"flipCard",value:function(e,t,r){var n=this;e.scaleX=-1,this.gameScene.tweens.add({targets:e,scaleX:1,duration:250,onComplete:function(){e.setTexture(r),n.gameScene.tweens.add({targets:e,scaleX:1.25,duration:250,onComplete:function(){}})}})}}],o&&u(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),t}(e.Scene);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:String(t)}function b(e,t,r){return t=k(t),function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w()?Reflect.construct(t,r||[],k(e).constructor):t.apply(e,r))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var C=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=b(this,t,["GameScene"])).audioManager=null,e.winnerImage=null,e.failureImage=null,e.gameOverImage=null,e.scores=0,e.scoreText=null,e.playerCardsCount=0,e.playerCardsCountText=null,e.aiCardsCount=0,e.aiCardsCountText=null,e.currentScore=0,e.newScore=0,e.numberOfCardsInDecks=0,e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),r=t,(n=[{key:"init",value:function(e){this.numberOfCardsInDecks=e,this.audioManager=this.scene.get("MainMenuScene").audioManager}},{key:"preload",value:function(){this.load.image("game-background","assets/img/hud/game-bg.jpg"),this.load.image("coinYou","assets/img/Flip_coin/gold_u.png"),this.load.image("coin2","assets/img/Flip_coin/gold_2.png"),this.load.image("coin3","assets/img/Flip_coin/gold_3.png"),this.load.image("coin4","assets/img/Flip_coin/gold_4.png"),this.load.image("coinAI","assets/img/Flip_coin/gold_AI.png"),this.load.image("cardFront","assets/img/cards/cardFront.png"),this.load.image("cardBack","assets/img/cards/cardBack.png"),this.load.image("yourCards","assets/img/hud/yourCards.png"),this.load.image("opponentsCards","assets/img/hud/opponentsCards.png"),this.load.image("scoreBoard","assets/img/hud/scoreBoard.png"),this.load.image("music-on","assets/img/hud/musicOn.png"),this.load.image("music-off","assets/img/hud/musicOff.png"),this.load.image("youWon","assets/img/hud/youWon.png"),this.load.image("youLost","assets/img/hud/youLost.png"),this.load.image("gameOverImage","assets/img/hud/gameOver_bg.png"),this.load.image("menu","assets/img/hud/restart.png"),this.load.image("retry","assets/img/hud/restart.png"),this.load.image("Virat Kohli","assets/img/playerPhotos/Virat-kohli.png"),this.load.image("Kane Williamson","assets/img/playerPhotos/kane_williamson.png"),this.load.image("Joe Root","assets/img/playerPhotos/Rohit_sharma.png"),this.load.image("Babar Azam","assets/img/playerPhotos/Babar_azam.png"),this.load.image("Dawid warner","assets/img/playerPhotos/dawid_warner.png"),this.load.image("Goutam ghambir","assets/img/playerPhotos/Goutam_ghambir.png"),this.load.image("Harbajan","assets/img/playerPhotos/Harbajan.png"),this.load.image("Kagiso-Rabada","assets/img/playerPhotos/Kagiso-Rabada.png"),this.load.image("MsDhoni","assets/img/playerPhotos/MsDhoni.png"),this.load.image("Ravindra_jadeja","assets/img/playerPhotos/Ravindra_jadeja.png"),this.load.image("sachin","assets/img/playerPhotos/sachin.png"),this.load.image("verander_sawag","assets/img/playerPhotos/verander_sawag.png"),this.load.image("Steve Smith","assets/img/playerPhotos/kane_williamson.png")}},{key:"create",value:function(){var e=this;this.audioManager.playBackgroundMusic(),this.cardModule=new y(this,this.audioManager),this.cameras.main.setPostPipeline("Glow"),this.playerCardsCount=this.numberOfCardsInDecks,this.aiCardsCount=this.numberOfCardsInDecks;var t,r,n,a,i,o=this.sys.game.config.width/2,s=this.sys.game.config.height/2;this.add.image(0,0,"game-background").setOrigin(0),t=this,r=o,n=s,a=Math.random()<.5?"ai":"player",i=t.add.sprite(r,n,"coinYou"),t.anims.create({key:"spin",frames:[{key:"coinYou"},{key:"coin2"},{key:"coin3"},{key:"coin4"},{key:"coinAI"},{key:"coin2"},{key:"coin3"},{key:"coin4"}],frameRate:10,repeat:-1}),i.play("spin"),t.time.delayedCall(2e3,(function(){var r;i.anims.stop("spin"),i.setTexture("heads"===a?"coinYou":"coinAI"),r=a,e.time.delayedCall(1e3,(function(){e.startGame("".concat(r))})),t.time.delayedCall(1e3,(function(){i.setVisible(!1)}))}))}},{key:"startGame",value:function(e){this.cardModule.currentPlayer=e,this.cardModule.initializeDecks(this.numberOfCardsInDecks,e),this.showHud()}},{key:"UpdateScores",value:function(e){var t=this;"player"===e?(this.scores+=100,this.time.delayedCall(100,(function(){t.winnerImage.setVisible(!0),t.audioManager.playWinRound()})),this.time.delayedCall(1e3,(function(){t.winnerImage.setVisible(!1)}))):(this.scores-=100,this.time.delayedCall(100,(function(){t.failureImage.setVisible(!0),t.audioManager.playFailureRound()})),this.time.delayedCall(1e3,(function(){t.failureImage.setVisible(!1)}))),this.currentScore=this.newScore,this.newScore=this.scores,this.scoreText.setText(this.scores),this.aiCardsCountText.setText(this.cardModule.aiCards.length),this.playerCardsCountText.setText(this.cardModule.playerCards.length)}},{key:"showHud",value:function(){var e=this;this.winnerImage=this.add.image(this.sys.game.config.width/2,this.sys.game.config.height/2,"youWon").setOrigin(.5,.5).setVisible(!1).setDepth(1),this.failureImage=this.add.image(this.sys.game.config.width/2,this.sys.game.config.height/2,"youLost").setOrigin(.5,.5).setVisible(!1).setDepth(1);var t=this.add.image(this.sys.game.config.width/2-300,this.sys.game.config.height-20,"yourCards").setScale(.25).setOrigin(1,1);this.playerCardsCountText=this.add.text(t.x-100,t.y-100,this.playerCardsCount,{fontFamily:"grobold",fontSize:"80px",fontStyle:"bold",fill:"#ffffff"}),this.playerCardsCountText.setOrigin(0,0),this.add.existing(this.playerCardsCountText);var r=this.add.image(this.sys.game.config.width-100,this.sys.game.config.height-20,"opponentsCards").setScale(.25).setOrigin(1,1);this.aiCardsCountText=this.add.text(r.x-500,r.y-80,this.aiCardsCount,{fontFamily:"grobold",fontSize:"80px",fontStyle:"bold",fill:"#ffffff"}),this.aiCardsCountText.setOrigin(.5,.5),this.add.existing(this.aiCardsCountText),this.add.image(this.sys.game.config.width-80,60,"music-off").setScale(.15).setOrigin(.5,.5);var n=!1,a=this.add.image(this.sys.game.config.width-80,60,"music-on").setScale(.15).setOrigin(.5,.5);a.on("pointerdown",(function(){(n=!n)?(e.audioManager.playBackgroundMusic(),a.setTexture("music-on")):(e.audioManager.stopBackgroundMusic(),a.setTexture("music-off"))})),a.setInteractive();var i=this.add.image(10,10,"scoreBoard").setScale(.15).setOrigin(0,0);this.scoreText=this.add.text(i.x+200,i.y+10,this.scores,{fontFamily:"grobold",fontSize:"40px",fontStyle:"bold",fill:"#ffffff"}),this.scoreText.setOrigin(0,0),this.add.existing(this.scoreText),this.UpdateScoreNumbers(this.currentScore,this.newScore)}},{key:"UpdateScoreNumbers",value:function(e,t){var r=this,n=this.tweens.addCounter({from:e,to:t,duration:2e3,ease:"linear",onUpdate:function(e){var t=Math.round(e.getValue());r.scoreText.setText("".concat(t))}});n.isPlaying()?n.updateTo("value",t):n=this.tweens.addCounter({from:e,to:t,duration:2e3,ease:"linear",onUpdate:function(e){var t=Math.round(e.getValue());r.scoreText.setText("".concat(t))}})}},{key:"showGameOverScreen",value:function(){var e=this;this.audioManager.playGameOver();var t=this.sys.game.config.width/2,r=this.sys.game.config.height/2,n=this.add.group();this.gameOverImage=this.add.image(t,r,"gameOverImage").setOrigin(.5).setScale(1.4,1.2),n.add(this.gameOverImage);var a=this.add.text(t,r+80," ".concat(this.scores),{fontFamily:"grobold",fontSize:"40px",fontStyle:"bold",fill:"#ffffff"}).setOrigin(.5);n.add(a);var i=this.add.image(t-110,r+200,"menu",{fontFamily:"grobold",fontSize:"30px",fontStyle:"bold",fill:"#ffffff"}).setOrigin(.5).setInteractive();n.add(i);var o=this.add.image(t+110,r+200,"retry",{fontFamily:"grobold",fontSize:"30px",fontStyle:"bold",fill:"#ffffff"}).setOrigin(.5).setInteractive();n.add(o),o.on("pointerdown",(function(){e.scores=0,e.UpdateScoreNumbers(e.currentScore,e.newScore),e.scene.restart()})),i.on("pointerdown",(function(){e.scores=0,e.UpdateScoreNumbers(e.currentScore,e.newScore),e.scene.start("MainMenuScene")})),n.setVisible(!0)}}])&&m(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(e.Scene);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:String(t)}function P(e,t,r){return t=_(t),function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,t,["OptionScene"])}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),r=t,(n=[{key:"init",value:function(){this.audioManager=this.scene.get("MainMenuScene").audioManager}},{key:"preload",value:function(){this.load.image("background","assets/img/hud/game-bg.jpg"),this.load.image("option_backing","assets/img/hud/option-Backing2.png"),this.load.image("deckOfSixteen","assets/img/hud/16.png"),this.load.image("deckOfThirty","assets/img/hud/30.png"),this.load.image("deckOfFiftyTwo","assets/img/hud/52.png"),this.load.image("deckOfSixteen-hover","assets/img/hud/16-pressed.png"),this.load.image("deckOfThirty-hover","assets/img/hud/30-pressed.png"),this.load.image("deckOfFiftyTwo-hover","assets/img/hud/52-pressed.png")}},{key:"create",value:function(){var e=this.sys.game.config.width/2,t=this.sys.game.config.height/2;this.add.image(0,0,"background").setOrigin(0),this.add.image(e,t,"option_backing").setScale(1,.75);var r=this.add.container(e,t+50),n=this.createDeckButton(-400,"deckOfSixteen","deckOfSixteen-hover",4,1),a=this.createDeckButton(0,"deckOfThirty","deckOfThirty-hover",6,1),i=this.createDeckButton(400,"deckOfFiftyTwo","deckOfFiftyTwo-hover",8,1);r.add(n),r.add(a),r.add(i)}},{key:"createDeckButton",value:function(e,t,r,n,a){var i=this,o=this.add.image(e,0,t);o.setScale(a);var s=o.y;return o.setInteractive().on("pointerover",(function(){o.setTexture(r)})).on("pointerout",(function(){o.setTexture(r)})).on("pointerup",(function(){i.scene.start("GameScene",n),i.audioManager.playButtonClick()})),this.tweens.add({targets:o,y:s-40,duration:500,yoyo:!0,repeat:0,ease:"bounce.in"}),o}}])&&x(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(e.Scene);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:String(t)}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.music=null}var t,r;return t=e,(r=[{key:"preload",value:function(){this.scene.load.audio("music",["assets/audio/music.mp3"]),this.scene.load.audio("btnClick",["assets/audio/btnClick.wav"]),this.scene.load.audio("pageFlip",["assets/audio/pageFlip.mp3"]),this.scene.load.audio("select",["assets/audio/btnClick.wav"]),this.scene.load.audio("shuffle",["assets/audio/shuffle.wav"]),this.scene.load.audio("cut",["assets/audio/cut.wav"]),this.scene.load.audio("winRound",["assets/audio/win.wav"]),this.scene.load.audio("failureSound",["assets/audio/failure.ogg"]),this.scene.load.audio("gameOver",["assets/audio/gameOver.mp3"])}},{key:"create",value:function(){this.music=this.scene.sound.add("music"),this.btnClick=this.scene.sound.add("btnClick"),this.pageFlip=this.scene.sound.add("pageFlip"),this.select=this.scene.sound.add("select"),this.shuffle=this.scene.sound.add("shuffle"),this.cut=this.scene.sound.add("cut"),this.winRound=this.scene.sound.add("winRound"),this.failureSound=this.scene.sound.add("failureSound"),this.gameOver=this.scene.sound.add("gameOver")}},{key:"playBackgroundMusic",value:function(){this.music&&this.music.play({loop:!0})}},{key:"stopBackgroundMusic",value:function(){this.music.stop()}},{key:"playButtonClick",value:function(){this.btnClick&&this.btnClick.play()}},{key:"playPageFlip",value:function(){this.pageFlip.play()}},{key:"playShuffle",value:function(){this.pageFlip.play()}},{key:"playCut",value:function(){this.cut.play()}},{key:"playWinRound",value:function(){this.winRound.play()}},{key:"playFailureRound",value:function(){this.failureSound.play()}},{key:"playSelect",value:function(){this.select&&this.select.play()}},{key:"playGameOver",value:function(){this.gameOver.play()}}])&&B(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:String(t)}function G(e,t,r){return t=X(t),function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,r||[],X(e).constructor):t.apply(e,r))}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(V=function(){return!!e})()}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}var z=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=G(this,t,["MainMenuScene"])).audioManager=null,e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,Phaser.Scene),r=t,(n=[{key:"preload",value:function(){this.load.image("mainMenu_bg","assets/img/hud/MainMenu_Cric_clash.png"),this.load.image("play_button","assets/img/hud/play_button.png"),this.load.image("helpBtn","assets/img/hud/help_button.png"),this.load.image("helpMessage-bg","assets/img/hud/bg-help.jpg"),this.audioManager=new I(this),this.audioManager.preload()}},{key:"create",value:function(){var e=this;this.audioManager.create();var t=this.add.image(1,1,"mainMenu_bg");t.setOrigin(0,0),t.setScale(this.sys.game.config.width/t.width,this.sys.game.config.height/t.height);var r=this.add.text(screen.width/2,screen.height/2,"Loading..",{fontSize:"32px",fill:"#ffffff",align:"center"});r.setOrigin(.5),this.time.delayedCall(100,(function(){r.setVisible(!1);var t=e.add.group(),n=e.add.image(e.sys.game.config.width-300,e.sys.game.config.height/2,"play_button"),a=e.add.image(e.sys.game.config.width-300,e.sys.game.config.height/2+120,"helpBtn");t.addMultiple([n,a]),n.setScale(.2),n.setInteractive(),n.on("pointerup",(function(){e.scene.start("OptionScene")})),a.setScale(.12),a.setInteractive(),a.on("pointerup",(function(){var t=e.add.text(200,200,"In this basic game, players engage in a challenging card-based showdown. Each player starts with a deck of cards, and the goal is to outsmart the opponent by selecting attributes strategically. The game involves drawing cards, revealing their attributes, and making selections to compete against the opponent's card. With each move, players toggle feedback to gain insights into the opponent's strategy. The game also tracks scores, declaring a winner at the end of each round. It's a game of wits and tactics where players must carefully consider their choices to emerge victorious.",{fontSize:"32px",fill:"#ffffff",align:"left",wordWrap:{width:900}}),r=e.add.graphics();r.fillStyle(0,.7),r.fillRect(t.x-50,t.y-50,1e3,600),r.setDepth(.3)}))}))}}])&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(),U=document.querySelector("canvas");U&&(U.willReadFrequently=!0),new e.Game({type:e.AUTO,width:1920,height:1080,scene:[z,D,C],scale:{mode:e.Scale.AUTO,autoCenter:e.Scale.CENTER_BOTH},callbacks:{preload:function(){this.scene.scenes[0].audioManager=new AudioManager(this.scene.scenes[0])},create:function(){this.scene.scenes[0].audioManager.playBackgroundMusic()}}})})();